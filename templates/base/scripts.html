<<<<<<< HEAD
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Furigana Toggle JavaScript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const toggleButton = document.getElementById('furigana-toggle');
    const toggleText = document.getElementById('toggle-text');
    const body = document.body;
    
    // Check localStorage for saved preference
    const furiganaHidden = localStorage.getItem('furiganaHidden') === 'true';
    
    // Set initial state
    if (furiganaHidden) {
        body.classList.add('furigana-hidden');
        toggleText.textContent = 'ふりがな OFF';
        toggleButton.title = 'Show Furigana (ふりがなを表示)';
    } else {
        toggleText.textContent = 'ふりがな ON';
        toggleButton.title = 'Hide Furigana (ふりがなを隠す)';
    }
    
    // Toggle functionality
    toggleButton.addEventListener('click', function() {
        const isHidden = body.classList.contains('furigana-hidden');
        
        if (isHidden) {
            // Show furigana
            body.classList.remove('furigana-hidden');
            toggleText.textContent = 'ふりがな ON';
            toggleButton.title = 'Hide Furigana (ふりがなを隠す)';
            localStorage.setItem('furiganaHidden', 'false');
        } else {
            // Hide furigana
            body.classList.add('furigana-hidden');
            toggleText.textContent = 'ふりがな OFF';
            toggleButton.title = 'Show Furigana (ふりがなを表示)';
            localStorage.setItem('furiganaHidden', 'true');
        }
        
        // Add a subtle animation effect
        toggleButton.style.transform = 'scale(0.95)';
        setTimeout(() => {
            toggleButton.style.transform = '';
        }, 150);
    });
    
    // Add keyboard shortcut (F key)
    document.addEventListener('keydown', function(event) {
        if (event.key === 'f' || event.key === 'F') {
            // Only trigger if not in an input field
            if (!event.target.matches('input, textarea, select')) {
                event.preventDefault();
                toggleButton.click();
            }
        }
    });
});
</script>
=======
<script src="https://cdn.jsdelivr.net/npm/bootstrap-honoka@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
>>>>>>> 87187f4 (Add utility scripts and reorganize templates for improved structure)
